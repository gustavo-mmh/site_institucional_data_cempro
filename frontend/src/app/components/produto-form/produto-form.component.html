<form [formGroup]="form" (ngSubmit)="salvar()" class="produto-form">
  <div class="form-header">
    <h3>{{ produto?.id ? 'Editar' : 'Novo' }} Produto</h3>
    <p class="form-subtitle">Preencha as informações do produto abaixo</p>
  </div>

  <div class="form-fields">
    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Nome do Produto</mat-label>
      <input 
        matInput 
        formControlName="nome" 
        placeholder="Ex: Smartphone Galaxy S21"
        maxlength="100"
        #nomeInput>
      <mat-icon matPrefix>shopping_bag</mat-icon>
      <mat-hint align="end">{{ nomeInput.value?.length || 0 }}/100</mat-hint>
      <mat-error *ngIf="form.get('nome')?.hasError('required') && form.get('nome')?.touched">
        <mat-icon>error</mat-icon>
        Nome é obrigatório
      </mat-error>
      <mat-error *ngIf="form.get('nome')?.hasError('minlength') && form.get('nome')?.touched">
        <mat-icon>error</mat-icon>
        Nome deve ter pelo menos 2 caracteres
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="form-field">
      <mat-label>Valor</mat-label>
      <input 
        matInput 
        type="number" 
        formControlName="valor" 
        placeholder="0,00"
        min="0"
        step="0.01">
      <mat-icon matPrefix>attach_money</mat-icon>
      <span matSuffix>BRL</span>
      <mat-error *ngIf="form.get('valor')?.hasError('required') && form.get('valor')?.touched">
        <mat-icon>error</mat-icon>
        Valor é obrigatório
      </mat-error>
      <mat-error *ngIf="form.get('valor')?.hasError('min') && form.get('valor')?.touched">
        <mat-icon>error</mat-icon>
        Valor deve ser maior que zero
      </mat-error>
    </mat-form-field>
  </div>

  <!-- Status de validação -->
  <div class="form-status" [ngClass]="{'valid': form.valid, 'invalid': !form.valid && form.touched}">
    <mat-icon>{{ form.valid ? 'check_circle' : 'error' }}</mat-icon>
    <span>
      {{ form.valid ? 'Formulário válido' : 'Preencha todos os campos obrigatórios' }}
    </span>
  </div>
</form>